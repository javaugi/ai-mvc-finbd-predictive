server:
  port: 8088
  servlet:
    context-path: /    
    session:
      cookie:
        same-site: none
        secure: false
spring:
  web:
    base-url: http://localhost:8088
  security:
    oauth2:
      success-redirect-url: http://localhost:5173/home
      client:
        registration:
          # Example for google
          google:
            client-id: ${GOOGLE_CLIENT_ID}
            client-secret: ${GOOGLE_CLIENT_SECRET}
            scope:
              - profile
              - email
              - openid
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
#            redirect-uri: http://localhost:8088/login/oauth2/code/google
          # Example for github
          github:
            client-id: ${GITHUB_CLIENT_ID}
            client-secret: ${GITHUB_CLIENT_SECRET}
            scope:
              - user:email
              - read:user
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
          # Example for Auth0
#          auth0:
#            client-id: ${AUTH0_CLIENT_ID}
#            client-secret: ${AUTH0_CLIENT_SECRET}
#            scope: openid,profile,email
#            authorization-grant-type: authorization_code
#            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
#            client-authentication-method: client_secret_basic            
          # Example for Keycloak
#          keycloak:
#            client-id: ${KEYCLOAK_CLIENT_ID}
#            client-secret: ${KEYCLOAK_CLIENT_SECRET}
#            scope: openid,profile,email
#            authorization-grant-type: authorization_code
#            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
#            client-authentication-method: client_secret_basic            
          # Example for SMART on FHIR
          epicfhir:
            client-id: ${EPIC_CLIENT_ID}
            client-secret: ""   # REQUIRED empty
            authorization-grant-type: authorization_code
            client-authentication-method: none
            #redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
            redirect-uri: "https://contractile-unruefully-madilynn.ngrok-free.dev/login/oauth2/code/{registrationId}"
            #client-authentication-method: client_secret_basic
            #scope: openid,fhirUser,launch/patient,patient/*.read
            scope:
            #  - openid
              - fhirUser
              - patient/*.read
            #  - launch/patient
            # PKCE is automatically handled by Spring Security 5.3+                
        provider:
          google:
            authorization-uri: https://accounts.google.com/o/oauth2/auth
            token-uri: https://oauth2.googleapis.com/token
            user-info-uri: https://www.googleapis.com/oauth2/v3/userinfo
            user-name-attribute: sub
          github:
            authorization-uri: https://github.com/login/oauth/authorize
            token-uri: https://github.com/login/oauth/access_token
            user-info-uri: https://api.github.com/user
#            user-info-uri: https://api.github.com/user/emails            
            user-name-attribute: login
#          auth0:
#            issuer-uri: https://${AUTH0_DOMAIN}/
#            authorization-uri: https://${AUTH0_DOMAIN}/authorize
#            token-uri: https://${AUTH0_DOMAIN}/oauth/token
#            user-info-uri: https://${AUTH0_DOMAIN}/userinfo
#            jwk-set-uri: https://${AUTH0_DOMAIN}/.well-known/jwks.json
#            user-name-attribute: sub            
#          keycloak:
#            issuer-uri: ${KEYCLOAK_ISSUER_URI}
#            authorization-uri: ${KEYCLOAK_ISSUER_URI}/protocol/openid-connect/auth
#            token-uri: ${KEYCLOAK_ISSUER_URI}/protocol/openid-connect/token
#            user-info-uri: ${KEYCLOAK_ISSUER_URI}/protocol/openid-connect/userinfo
#            jwk-set-uri: ${KEYCLOAK_ISSUER_URI}/protocol/openid-connect/certs
#            user-name-attribute: preferred_username            
          epicfhir:
            authorization-uri: https://fhir.epic.com/interconnect-fhir-oauth/oauth2/authorize
            token-uri: https://fhir.epic.com/interconnect-fhir-oauth/oauth2/token
            #user-info-uri: https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/R4/metadata
            user-info-uri: https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/R4/Patient
            base-uri: https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/R4/
            #user-name-attribute: iss            
---
#
#ðŸ§© What Each Placeholder Means
#Placeholder        Meaning                                                                          Example
#{baseUrl}          The public base URL of your Spring Boot backend â€”                               http://localhost:8088
#                        the host and port where the backend is running.                               
#{registrationId}	The ID of your OAuth provider registration, i.e.,                               google
#                        the name under spring.security.oauth2.client.registration in your config.     
logging:
  level:
    org.springframework.security: DEBUG
    org.springframework.security.oauth2: TRACE
    org.springframework.security.web.FilterChainProxy: DEBUG
    org.springframework.security.oauth2.client: TRACE
    org.springframework.security.oauth2.core: DEBUG
    org.springframework.security.oauth2.server.resource: DEBUG
    com.jvidia.aimlbda: DEBUG
    web: DEBUG
    root: INFO    